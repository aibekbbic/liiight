<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,height=device-height, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <meta name="theme-color" content="#8aab8a" />
    <title>Light</title>
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <!-- svg start -->
    <svg width="0" height="0" class="hidden">
      <symbol
        xmlns="http://www.w3.org/2000/svg"
        fill-rule="evenodd"
        clip-rule="evenodd"
        viewBox="0 0 24 24"
        id="home-icon"
      >
        <path
          d="M22 11.414v12.586h-20v-12.586l-1.293 1.293-.707-.707 12-12 12 12-.707.707-1.293-1.293zm-6 11.586h5v-12.586l-9-9-9 9v12.586h5v-9h8v9zm-1-7.889h-6v7.778h6v-7.778z"
        ></path>
      </symbol>
      <symbol
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        id="iconmonstr-light-bulb-18"
      >
        <path
          d="M14 19h-4c-.276 0-.5.224-.5.5s.224.5.5.5h4c.276 0 .5-.224.5-.5s-.224-.5-.5-.5zm0 2h-4c-.276 0-.5.224-.5.5s.224.5.5.5h4c.276 0 .5-.224.5-.5s-.224-.5-.5-.5zm.25 2h-4.5l1.188.782c.154.138.38.218.615.218h.895c.234 0 .461-.08.615-.218l1.187-.782zm3.75-13.799c0 3.569-3.214 5.983-3.214 8.799h-1.989c-.003-1.858.87-3.389 1.721-4.867.761-1.325 1.482-2.577 1.482-3.932 0-2.592-2.075-3.772-4.003-3.772-1.925 0-3.997 1.18-3.997 3.772 0 1.355.721 2.607 1.482 3.932.851 1.478 1.725 3.009 1.72 4.867h-1.988c0-2.816-3.214-5.23-3.214-8.799 0-3.723 2.998-5.772 5.997-5.772 3.001 0 6.003 2.051 6.003 5.772zm4-.691v1.372h-2.538c.02-.223.038-.448.038-.681 0-.237-.017-.464-.035-.69h2.535zm-10.648-6.553v-1.957h1.371v1.964c-.242-.022-.484-.035-.726-.035-.215 0-.43.01-.645.028zm-3.743 1.294l-1.04-1.94 1.208-.648 1.037 1.933c-.418.181-.822.401-1.205.655zm10.586 1.735l1.942-1.394.799 1.115-2.054 1.473c-.191-.43-.423-.827-.687-1.194zm-3.01-2.389l1.038-1.934 1.208.648-1.041 1.941c-.382-.254-.786-.473-1.205-.655zm-10.068 3.583l-2.054-1.472.799-1.115 1.942 1.393c-.264.366-.495.763-.687 1.194zm13.707 6.223l2.354.954-.514 1.271-2.425-.982c.21-.397.408-.812.585-1.243zm-13.108 1.155l-2.356 1.06-.562-1.251 2.34-1.052c.173.433.371.845.578 1.243zm-1.178-3.676h-2.538v-1.372h2.535c-.018.226-.035.454-.035.691 0 .233.018.458.038.681z"
        ></path>
      </symbol>
      <symbol
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        id="iconmonstr-light-bulb-14"
      >
        <path
          d="M10.741 17h-1.991c0-.17-.016-.338-.035-.506l1.703-1.548c.197.653.323 1.332.323 2.054zm-.04 6.659c.19.216.465.341.753.341h1.093c.288 0 .562-.125.752-.341l1.451-1.659h-5.5l1.451 1.659zm3.799-3.659h-5c-.276 0-.5.224-.5.5s.224.5.5.5h5c.276 0 .5-.224.5-.5s-.224-.5-.5-.5zm0-2h-5c-.276 0-.5.224-.5.5s.224.5.5.5h5c.276 0 .5-.224.5-.5s-.224-.5-.5-.5zm1.707-8.315c-1.104 2.28-2.948 4.483-2.949 7.315h1.992c0-3.169 3.479-5.906 3.726-9.832l-2.769 2.517zm6.793-8.201l-20.654 18.75-1.346-1.5 6.333-5.728c-1.062-1.873-2.333-3.843-2.333-6.272 0-4.343 3.498-6.734 6.996-6.734 2.408 0 4.798 1.146 6.064 3.267l3.598-3.267 1.342 1.484zm-14.147 10.142l7.676-6.969c-.833-1.742-2.682-2.657-4.533-2.657-2.483 0-4.996 1.626-4.996 4.734 0 1.713.907 3.246 1.853 4.892z"
        ></path>
      </symbol>
    </svg>
    <!-- svg end -->
    <!-- header start -->
    <header class="header">
      <a
        class="header__logo"
        href="https://aibekbbic.github.io/mywebsite/new-project.html"
        target="_blank"
      >
        <svg class="logo header__logo">
          <use xlink:href="#home-icon"></use>
        </svg>
      </a>
      <h1>Light</h1>
    </header>
    <!-- header end -->
    <section class="content">
      <figure>
        <img
          src="https://www.pngall.com/wp-content/uploads/12/Light-Fixture-Lamp-Transparent.png"
          alt=""
          class="lamp"
        />
        <div class="light"></div>
      </figure>
    </section>
    <main class="main">
      <container class="container">
        <!-- aside start -->
        <aside class="aside">
          <!--  -->
          <label class="on-off-block">
            <div class="on-off-title">Power</div>
            <input type="checkbox" checked class="real-power-checkbox" />
            <div class="fake-power-checkbox"></div>
          </label>
          <!--  -->
          <div class="percents-block">
            <div class="percents">100%</div>
            <div class="percents-title">Brightness</div>
          </div>
        </aside>
        <!-- aside end -->
        <!-- content -->
      </container>
      <section class="range-block">
        <input
          type="range"
          min="0"
          max="100"
          value="100"
          step="25"
          class="real-range-adjustment"
        />
        <div class="lamp-icon-block">
          <svg class="icon lamp-icon">
            <use xlink:href="#iconmonstr-light-bulb-14"></use>
          </svg>
          <svg class="icon lamp-icon">
            <use xlink:href="#iconmonstr-light-bulb-18"></use>
          </svg>
        </div>
      </section>
    </main>

    <footer class="footer"><small>Aibekbbic 2023</small></footer>
    <div class="bgstyle">
      <div class="bgstyle_circle_1 decor"></div>
      <div class="bgstyle_circle_2 decor"></div>
    </div>
<!--      -->
        <script>
      const range = document.querySelector(".real-range-adjustment");
      const percents = document.querySelector(".percents");
      const lamp = document.querySelector(".lamp");
      const light = document.querySelector(".light");
      const checkbox = document.querySelector(".real-power-checkbox");
      const on_off_block = document.querySelector(".on-off-block");
      const body = document.querySelector("body");
      const decorations = document.querySelectorAll(".decor");
      //
      let audio = new Audio();
      // audio.preload = "auto";
      audio.src = "./zvuk-vklyucheniya.mp3";
      //

      range.addEventListener("input", function (e) {
        // показываем процент
        let range_value = `${e.target.value}%`;
        percents.innerText = range_value;
        //   изменим размытие света
        let light_blur = e.target.value / 5 + 2;
        let light_blur_fixed = light_blur.toFixed(0);
        //  изменим растяжение света
        let light_stretch = e.target.value / 10;
        let light_stretch_fixed = light_stretch.toFixed(0);
        //   изменим позицию света
        let light_position = e.target.value / 20;
        let light_position_fixed = light_position.toFixed(0);
        //   изменим свет лампочки
        light.style.boxShadow = `0 ${light_position_fixed}px ${light_blur_fixed}px ${light_stretch_fixed}px`;
        // добавим вибрацию
        window.navigator.vibrate(5);
        // вкл/выкл кнопку
        if (range.value > 0) {
          checkbox.checked = true;
          decorations.forEach((item) => {
            item.style.cssText = "background-color: rgba(138, 171, 211, 1)";
          });
        } else if (range.value < 25) {
          checkbox.checked = false;
          decorations.forEach((item) => {
            item.style.cssText = "background-color: rgba(128, 121, 128, 1)";
          });
        }
        // убираем/добавляем тень лампы
        let lamp_shadow = e.target.value / 30;
        let lamp_color_1 = e.target.value / 14 + 127;
        let lamp_color_2 = e.target.value / 2.5 + 121;
        lamp.style.cssText = `filter: drop-shadow(25px -21px ${lamp_shadow}px rgba(${lamp_color_1}, ${lamp_color_2}, ${lamp_color_1}, 1));
 `;
        //  изменим цвет фона
        let bg_color_1 = e.target.value / 10 + 128;
        let bg_color_2 = e.target.value / 2 + 121;
        body.style.cssText = `background-color: rgba(${bg_color_1}, ${bg_color_2}, ${bg_color_1}, 1)`;
        //
      });

      on_off_block.addEventListener("click", function () {
        window.navigator.vibrate(5);
        audio.play();
        if (checkbox.checked) {
          // изменим цвет фона
          body.style.cssText = "background-color: rgba(138, 171, 138, 1)";
          // сделаем значение input range = 100
          range.value = 100;
          // сделаем 100%
          percents.innerText = "100%";
          // вкл лампочку
          light.style.cssText = "box-shadow: 0px 5px 22px 10px";
          // добавим тень
          lamp.style.cssText =
            "filter: drop-shadow(25px -21px 3px rgba(135, 161, 135, 1));";
          //
          decorations.forEach((item) => {
            item.style.cssText = "background-color: rgba(138, 171, 211, 1)";
          });
        } else if (!checkbox.checked) {
          // изменим цвет фона
          body.style.cssText = "background-color: rgba(128, 121, 128, 1);";
          // сделаем значение input range = 0
          range.value = 0;
          // сделаем 0%
          percents.innerText = "0%";
          // откл лампочку
          light.style.cssText = "box-shadow: 0px 0px 2px 0px";
          // удаляем тень
          lamp.style.filter =
            "drop-shadow(25px -21px 0px rgba(128, 121, 128, 1))";
          //
          decorations.forEach((item) => {
            item.style.cssText = "background-color: rgba(128, 121, 128, 1)";
          });
        }
      });

      for (let e of range) {
        e.style.setProperty("--value", e.value);
        e.style.setProperty("--min", e.min == "" ? "0" : e.min);
        e.style.setProperty("--max", e.max == "" ? "100" : e.max);
        e.addEventListener("input", () =>
          e.style.setProperty("--value", e.value)
        );
      }
    </script>

<!--      -->
    <script src="./react.js"></script>
  </body>
</html>
